<!DOCTYPE html>
<html ng-app="app">
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        
        <link rel="stylesheet" type="text/css" href="libs/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="libs/bootstrap/css/bootstrap-glyphicons.css" >  
        <link rel="stylesheet" type="text/css" href="css/index.css" >   
          
    </head>
    <body>
    
    <!--top nav bar  -->
       <nav class="navbar navbar-default" role="navigation">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <a class="nav navbar-nav">
		      	 <img class="arrow" src="img/arrowed_down.png">
		      </a>
		    </div>		    
		      <ul class="nav navbar-nav navbar-right">
		        <li><a><img src="img/logo.png"></a></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		</nav><!--top nav bar  -->
        
		
		<ul class="nav nav-tabs navbar-fixed-bottom" >
		  <li class="active" style="width:50%"><a href="#mapArea" data-toggle="tab">Map</a></li>
		  <li style="width:50%"><a href="#maplistArea" data-toggle="tab">List</a></li>
		</ul>
		
		<!-- Tab panes -->
		<div class="tab-content" ng-controller="appCtrl">
		  <div class="tab-pane active" id="mapArea" >
			  	<div class="text-right">
		        <div class="input-append text-right">       	
		            <input type="text" ng-model="search"/>
		            <select id="selectedDistance">
			            <option value="0">0 KM</option>
			            <option value="50000">50000 KM</option>
		            </select>
		            <button class="btn btn-info btn-lg" type="button" ng-click="geoCode()" ng-disabled="search.length == 0" title="search" >
		              &nbsp;<i class="glyphicon glyphicon-search"></i>
		            </button>
		            <button class="btn btn-info btn-lg" type="button" ng-click="gotoCurrentLocation()" title="current location">
		              &nbsp;<i class="glyphicon glyphicon-home"></i>
		            </button>
		            
		             <button class="btn btn-info btn-lg" type="button" ng-click="myTest()" title="current location">
		             test
		            </button>
		            
		            <div>bound:</div>
		            <div>
		            north-east: {{ mapBounds.northeast.latitude}},{{ mapBounds.northeast.longitude}} 
		                    	<br>
		            south-west: {{ mapBounds.southwest.latitude}},{{ mapBounds.southwest.longitude}}
		            </div>
		        

		     <google-map 
		    	center="loc"
		    	zoom= "zoom"
		    	mark-click="true"
				draggable="true"
				control = "getGMap()"
				bounds="mapBounds"
		    >
		         <marker 
		         	ng-repeat="marker in myMarkers" 
		         	coords="marker"
		         	models ="randomMarkers"
		         	click="onMarkerClicked(marker)"
		         	>
		         	<window >
		                <p>This is an info window at {{ marker.latitude | number:4 }}, {{ marker.longitude | number:4 }}!</p>
		            </window>
		         </marker>
		    </google-map> 
    
		  </div>
		   </div>
    			</div>
		  
		  <div class="tab-pane" id="maplistArea" style="background:#EBEBEB;height:100%;">
		  	 <div id="scroller">
			     <ul style="list-style-type:none;padding:10px;">
			     	<li ng-repeat="listItem in mapList" style="margin-bottom:20px;background:white;width:100%;border:1px solid gray;padding:5px;">
                      <div style="font-size:18px;">{{listItem.name}}</div>
                      <div style="margin-top:5px;font-size:16px;"><img src="img/home_icon.png">&nbsp;{{listItem.address}}</div>
                      <div style="margin:5px; border-bottom: 1px solid gray; height: 2px; "></div>
                      <div style="margin-top:5px;padding:3px;"><a class="btn btn-default" style="background:#EBEBEB;width:100%;text-align: left;font-size:15px; href="tel:listItem.phone"><img src="img/phone_icon.png">&nbsp; {{listItem.phone}} </a></div>
                     </li>
			     </ul>
			 </div> 
		  </div>
		</div>
		<script type="text/javascript" src="libs/jquery.min.js"></script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false" ></script>
        <script type="text/javascript" src="libs/angular.min.js"></script>
        <script type="text/javascript" src="libs/underscore-min.js"></script>
        <script type="text/javascript" src="libs/angular-google-maps.js"></script>
        <script type="text/javascript" src="libs/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="libs/iscroll.js"></script>
        <script type="text/javascript" src="libs/spin.js"></script>
        <script type="text/javascript" src="js/map.js"></script>        
              
        
    </body>
</html>
